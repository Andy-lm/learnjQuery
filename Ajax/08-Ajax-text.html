<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        div {
            width: 300px;
            height: 300px;
            border: 1px solid #000;
            margin: 50px auto;
            text-align: center;
            background: #ccc;
        }

        img {
            width: 200px;
            height: 200px;
            display: block;
            margin: 10px auto 10px;
            border: 1px solid #000;
        }

        p {
            text-align: center;
            background: pink;
        }
    </style>
    <script src="./myAjax2.js"></script>
    <script>
        window.addEventListener('load', function () {
            var oTitle = document.querySelector("#title");
            var oDes = document.querySelector("#des");
            var oImg = document.querySelector("img");
            var oBtns = document.querySelectorAll("button");
            oBtns[0].addEventListener('click', function () {
                var self = this;
                ajax({ // type, url, data, timeout, success, error
                    type: 'get',
                    url: '08-Ajax-text.php',
                    data: {
                        'name': this.getAttribute('name')
                    },
                    timeout: 3000,
                    success: function (xhr) {
                        // console.log(xhr.responseText);
                        // var res = xhr.responseText.split('|');
                        // oTitle.innerHTML = res[0];
                        // oDes.innerHTML = res[1];
                        // oImg.setAttribute('src', res[2]);
                        var name = self.getAttribute('name');
                        var res = xhr.responseXML;
                        var title = res.querySelector(name + '>title').innerHTML;
                        var des = res.querySelector(name + '>des').innerHTML;
                        var image = res.querySelector(name + '>image').innerHTML;
                        oTitle.innerHTML = title;
                        oDes.innerHTML = des;
                        oImg.setAttribute('src', image);
                    },
                    error: function (xhr) {
                        console.log('请求失败');

                    }

                })

            })
            oBtns[1].addEventListener('click', function () {
                var self = this;
                ajax({ // type, url, data, timeout, success, error
                    type: 'get',
                    url: '08-Ajax-text.php',
                    data: {
                        'name': this.getAttribute('name')
                    },
                    timeout: 3000,
                    success: function (xhr) {
                        // console.log(xhr.responseText);
                        // var res = xhr.responseText.split('|');
                        // oTitle.innerHTML = res[0];
                        // oDes.innerHTML = res[1];
                        // oImg.setAttribute('src', res[2]);
                        var name = self.getAttribute('name');
                        var res = xhr.responseXML;
                        var title = res.querySelector(name + '>title').innerHTML;
                        var des = res.querySelector(name + '>des').innerHTML;
                        var image = res.querySelector(name + '>image').innerHTML;
                        oTitle.innerHTML = title;
                        oDes.innerHTML = des;
                        oImg.setAttribute('src', image);
                    },
                    error: function (xhr) {
                        console.log('请求失败');

                    }

                })

            })
            oBtns[2].addEventListener('click', function () {
                var self = this;
                ajax({ // type, url, data, timeout, success, error
                    type: 'get',
                    url: '08-Ajax-text.php',
                    data: {
                        'name': this.getAttribute('name')
                    },
                    timeout: 3000,
                    success: function (xhr) {
                        // console.log(xhr.responseText);
                        // var res = xhr.responseText.split('|');
                        // oTitle.innerHTML = res[0];
                        // oDes.innerHTML = res[1];
                        // oImg.setAttribute('src', res[2]);
                        var name = self.getAttribute('name');
                        var res = xhr.responseXML;
                        var title = res.querySelector(name + '>title').innerHTML;
                        var des = res.querySelector(name + '>des').innerHTML;
                        var image = res.querySelector(name + '>image').innerHTML;
                        oTitle.innerHTML = title;
                        oDes.innerHTML = des;
                        oImg.setAttribute('src', image);
                    },
                    error: function (xhr) {
                        console.log('请求失败');

                    }

                })

            })






        })
    </script>
</head>

<body>
    <div>
        <p id="title">商品标题名称</p>
        <img src="" alt="">
        <p id="des">商品描述信息</p>
        <button name="nz">女装</button>
        <button name="bb">包包</button>
        <button name="tx">拖鞋</button>
    </div>
</body>

</html>